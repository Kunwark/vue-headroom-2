!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.vueHeadroom=n()}(this,function(){"use strict";function e(e,n){return n={exports:{}},e(n,n.exports),n.exports}function n(e){var n,t=e.currentScrollY>=e.lastScrollY?"down":"up",i=Math.abs(e.currentScrollY-e.lastScrollY);return n=e.currentScrollY<=e.pinStart&&"unfixed"!==e.state?"unfix":e.currentScrollY<=e.elemHeight&&"down"===t&&"unfixed"===e.state?"none":"down"===t&&["pinned","unfixed"].indexOf(e.state)>=0&&e.currentScrollY>e.elemHeight+e.pinStart&&i>e.downTolerance?"unpin":"up"===t&&i>e.upTolerance&&["pinned","unfixed"].indexOf(e.state)<0?"pin":"up"===t&&e.currentScrollY<=e.elemHeight&&["pinned","unfixed"].indexOf(e.state)<0?"pin":"none"}var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=e(function(e){(function(){var n,t,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(n()-i)/1e6},t=process.hrtime,n=function(){var e;return e=t(),1e9*e[0]+e[1]},i=n()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(t)}),o=e(function(e){for(var n=i,o="undefined"==typeof window?t:window,r=["moz","webkit"],l="AnimationFrame",s=o["request"+l],a=o["cancel"+l]||o["cancelRequest"+l],u=0;!s&&u<r.length;u++)s=o[r[u]+"Request"+l],a=o[r[u]+"Cancel"+l]||o[r[u]+"CancelRequest"+l];if(!s||!a){var c=0,d=0,f=[],p=1e3/60;s=function(e){if(0===f.length){var t=n(),i=Math.max(0,p-(t-c));c=i+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(i))}return f.push({handle:++d,callback:e,cancelled:!1}),d},a=function(e){for(var n=0;n<f.length;n++)f[n].handle===e&&(f[n].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){a.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=a}}),r={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"headroom-wrapper",style:e.wrapperStyles},[t("div",{staticClass:"headroom",style:e.innerStyle},[e._t("default")],2)])},staticRenderFns:[],data:function(){return{currentScrollY:0,lastScrollY:0,elemHeight:0,state:"",translate:0}},props:{disabled:{type:Boolean,default:!1},upTolerance:{type:Number,default:5},downTolerance:{type:Number,default:0},speed:{type:Number,default:250},easing:{type:String,default:"ease-in-out"},zIndex:{type:Number,default:9999},onPin:Function,onUnpin:Function,pinStart:{type:Number,default:0}},watch:{disabled:function(e){e&&(this.unfix(),window.removeEventListener("scroll",this._handleScroll))}},mounted:function(){this.elemHeight=this.$el.offsetHeight,this.disabled||window.addEventListener("scroll",this._handleScroll)},computed:{innerStyle:function(){return{position:this.isInTop?"fixed":"relative",top:"0",left:"0",right:"0","z-index":this.isInTop?this.zIndex:1,transform:"translateY("+this.translate+")",transition:this.isInTop?"all "+this.speed+"ms "+this.easing:null}},wrapperStyles:function(){return{height:this.elemHeight?this.elemHeight+"px":null}},isInTop:function(){return"pinned"===this.state||"unpinned"===this.state}},methods:{_handleScroll:function(){o(this.update)},_getScrollY:function(){var e=void 0;return e=void 0!==window.pageYOffset?window.pageYOffset:void 0!==window.scrollTop?window.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},update:function(){this.currentScrollY=this._getScrollY();var e=n(this);"pin"===e?this.pin():"unpin"===e?this.unpin():"unfix"===e&&this.unfix(),this.lastScrollY=this.currentScrollY},pin:function(){var e=this;this.onPin&&this.onPin(),this.translate=0,setTimeout(function(){e.state="pinned"},0)},unpin:function(){var e=this;this.onUnpin&&this.onUnpin(),this.translate="-100%",setTimeout(function(){e.state="unpinned"},0)},unfix:function(){this.state="unfixed"}}};return r});